<!DOCTYPE html>
<html lang="en">

<head>
  <title>Edit Recipe</title>
  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=EB+Garamond:wght@400;500&family=Inter:wght@400;500&family=Playfair+Display:ital,wght@0,400;0,700;1,400;1,700&display=swap" rel="stylesheet">

  <!-- Vendor CSS Files -->
  <link href="assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
  <link href="assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
  <link href="assets/vendor/swiper/swiper-bundle.min.css" rel="stylesheet">
  <link href="assets/vendor/glightbox/css/glightbox.min.css" rel="stylesheet">
  <link href="assets/vendor/aos/aos.css" rel="stylesheet">

  <!-- Template Main CSS Files -->
  <link href="assets/css/variables.css" rel="stylesheet">
  <link href="assets/css/main.css" rel="stylesheet">
  <link rel='stylesheet' href='https://fonts.googleapis.com/css?family=Open+Sans'>
  <link rel="stylesheet" href="uploadRecipe.css">
  <link rel="stylesheet" href="edit_recipe.css">
  <link rel='stylesheet' href='https://cdn.lineicons.com/1.0.1/LineIcons.min.css'>
</head>

<body>
  <%- include('./partials/header.ejs') %>
  <div class="title">
    <h2 style="font-size: 60px; color: white; text-shadow: -1px 0 rgba(255, 4, 226, 0.137), 0 1px rgba(255, 4, 226, 0.137), 1px 0 rgba(255, 4, 226, 0.137), 0 -1px rgba(255, 4, 226, 0.137);">Edit your recipe</h2>
  </div>
  <div id="recipeForm" class="cont" enctype="multipart/form-data">
    <select id="category" name="category" placeholder="<%=post.name  %>" required>
      <option value="<%= post.category  %>"><%= post.category %></option>
      <% if (post.category!=='soups'){ %>
      <option value="soups">soup</option>
      <% } %>
      <% if (post.category!=='stew'){ %>
      <option value="stew">stew</option>
      <% } %>
      <% if (post.category!=='fish'){ %>
      <option value="fish">fish</option>
      <% } %>
      <% if (post.category!=='pies and quiches'){ %>
      <option value="pies and quiches">pies and quiches</option>
      <% } %>
      <% if (post.category!=='cakes and cookies'){ %>
      <option value="cakes and cookies">cakes and cookies</option>
      <% } %>
      <% if (post.category!=='dessert'){ %>
      <option value="dessert">dessert</option>
      <% } %>
      <% if (post.category!=='salad'){ %>
      <option value="salad">salad</option>
      <% } %>
      <% if (post.category!=='sandwich'){ %>
      <option value="sandwich">sandwich</option>
      <% } %>
      <% if (post.category!=='pizza'){ %>
      <option value="pizza">pizza</option>
      <% } %>
      <% if (post.category!=='bread'){ %>
      <option value="bread">bread</option>
      <% } %>
    </select><br><br>

    <label for="recipeName">Recipe Name:</label>
    <input type="text" id="recipeName" name="recipeName" data-doc="<%= post.name %>" placeholder="<%=post.name  %>" required><br><br>

    <label for="groceryList">Ingredients :</label>
    <ul id="groceryList" data-doc="<%= post.ingredients %>">
      <% post.ingredients.forEach(function(ingredient) { %>
      <!-- <li< contenteditable="true"><%= ingredient %>></li> -->
      <li contenteditable="true"><%= ingredient %> <i class="lni-trash delete-icon"></i></li>
      <% }) %>
    </ul>
    <input type="text" id="ingredientInput" placeholder="Enter an ingredient">
    <button type="button" onclick="addIngredient()">Add Ingredient</button><br><br>

    <label for="instructions">Instructions:</label>
    <textarea id="instructions" name="instructions" data-doc="<%= post.instructions %>" placeholder="<%=post.instructions %>" required></textarea><br><br>

    <label for="prepTime">Preparation Time:</label>
    <input type="text" id="prepTime" name="prepTime" data-doc="<%= post.preparationTime %>" required><br><br>

    <label for="dishes">The number of dishes:</label>
    <input type="text" id="dishes" name="dishes" data-doc="<%= post.dishes %>" required><br><br>

    <!-- <label for="image">Image:</label>
    <input type="file" id="image" name="image" accept="image/*" data-doc="<%= post.image %>"><br><br> -->


    <button class="save" data-doc="<%= post._id %>" value="Save changes">Save changes</button>
    <p id="error-msg"></p>
  </div>
  <script src="edit_recipe.js"></script>

</body>

</html>